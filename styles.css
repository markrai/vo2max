body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; margin: 0; background: #0c0c0c; color: #fff; }
.container { padding: 20px; max-width: 500px; margin: auto; }
h1 { font-size: 1.8rem; text-align: center; margin: 16px 0 18px; }

.section { background: #1a1a1a; padding: 16px; border-radius: 14px; margin-bottom: 16px; position: relative; }
.label { font-size: 0.9rem; opacity: .7; }
.input { width: 100%; padding: 12px; border-radius: 10px; border: none; margin-top: 8px; font-size: 1rem; box-sizing: border-box; }
.button { width: 100%; padding: 14px; background: #3d7cff; color: #fff; border: none; border-radius: 12px; margin-top: 14px; font-size: 1rem; font-weight: 600; }

.metric { font-size: 1rem; margin-top: 6px; text-align: center; }
#nextDayBtn { position: absolute; right: 0; top: 50%; transform: translateY(-50%); background: none; border: none; color: #fff; font-size: 1.2rem; cursor: pointer; padding: 4px 8px; opacity: 0.7; transition: opacity 0.2s; }
#nextDayBtn:hover { opacity: 1; }
#nextDayBtn:active { transform: translateY(-50%) scale(0.95); }
.phase-box { display: flex; justify-content: space-between; align-items: center; font-size: 1.5rem; padding: 14px; background: #232323; border-radius: 12px; margin-top: 18px; }
.phase-box .phase-name { flex: 1; text-align: left; }
.phase-box .phase-time { flex: 0 0 auto; text-align: right; font-weight: 600; }
.time-left { text-align: center; font-size: 1.1rem; margin-top: 10px; opacity: .9; }
.work-blocks { text-align: center; margin-top: 8px; font-size: 0.55rem; opacity: .8; }
.hr-target { text-align: center; font-size: 0.7rem; opacity: .9; }
.hr-now { 
  text-align: center; 
  color: white !important; 
  font-weight: 600; 
  font-size: 1.2rem; 
  pointer-events: none; 
  z-index: 10;
}
.calories { text-align: center; margin-top: 6px; font-size: 0.9rem; opacity: .9; }

.hamburger { position: fixed; top: 10px; right: 12px; font-size: 28px; cursor: pointer; padding: 6px 10px; z-index: 20; }
.modal-bg { position: fixed; inset: 0; background: rgba(0,0,0,0.7); display: none; align-items: center; justify-content: center; z-index: 15; }
.modal { background: #1a1a1a; padding: 24px; border-radius: 14px; width: 90%; max-width: 400px; }
.modal-title { font-size: 1.4rem; margin-bottom: 20px; text-align: center; font-weight: 600; }
.close-btn { float: right; cursor: pointer; font-size: 22px; margin-top: -6px; opacity: 0.7; }
.close-btn:hover { opacity: 1; }
.modal-actions { display: flex; gap: 10px; margin-top: 18px; }
.modal-actions .button { flex: 1; width: auto; }
.modal-actions .button.secondary { background: #444; }
.modal-actions .button.secondary:hover { background: #555; }
.modal-field { margin-bottom: 14px; display: flex; align-items: center; gap: 12px; }
.modal-label { font-size: 0.9rem; opacity: 0.85; font-weight: 500; min-width: 80px; flex-shrink: 0; }
.modal-input { flex: 1; padding: 10px 12px; border-radius: 10px; border: 1px solid #333; background: #232323; color: #fff; font-size: 1rem; box-sizing: border-box; }
.modal-input:focus { outline: none; border-color: #3d7cff; }
.modal-input::placeholder { opacity: 0.5; }
.modal-section { margin-bottom: 16px; }
.modal-section-title { font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.5px; opacity: 0.6; margin-bottom: 10px; font-weight: 600; }

/* Tab styles */
.tab-buttons { display: flex; gap: 8px; margin-bottom: 20px; border-bottom: 1px solid #333; }
.tab-button { flex: 1; padding: 12px; background: transparent; border: none; color: #888; font-size: 1rem; font-weight: 500; cursor: pointer; border-bottom: 2px solid transparent; margin-bottom: -1px; transition: all 0.2s; }
.tab-button:hover { color: #fff; }
.tab-button.active { color: #3d7cff; border-bottom-color: #3d7cff; }
.tab-content { display: none; }
.tab-content.active { display: block; }

/* Workout summary list */
.workout-summary-list { max-height: 60vh; overflow-y: auto; }
.workout-item { background: #232323; padding: 16px; border-radius: 10px; margin-bottom: 12px; }
.workout-item-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
.workout-item-date { font-size: 0.9rem; opacity: 0.7; }
.workout-item-title { font-size: 1.1rem; font-weight: 600; }
.workout-item-details { font-size: 0.85rem; opacity: 0.8; margin-top: 8px; display: flex; gap: 16px; flex-wrap: wrap; }
.workout-item-detail { }
.workout-item-actions { display: flex; gap: 8px; margin-top: 12px; }
.workout-item-actions .button { margin-top: 0; padding: 10px; font-size: 0.9rem; }
.workout-item-actions .button.secondary { background: #444; }

.ring-container { position: relative; width: 10.625rem; height: 10.625rem; margin: 1.125rem auto 0.375rem; }
.ring { width: 100%; height: 100%; transform: rotate(-90deg); }
.ring-bg { fill: none; stroke: #333; stroke-width: 8; }
.ring-progress { fill: none; stroke: #3d7cff; stroke-width: 8; stroke-linecap: round; stroke-dasharray: 339.292; stroke-dashoffset: 339.292; transition: stroke-dashoffset 0.25s linear; }
.ring-center { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 1.1rem; text-align: center; }

/* Heart pulsation animation */
@keyframes heartPulse {
  0%, 100% { transform: translate(-50%, -50%) scale(1); }
  50% { transform: translate(-50%, -50%) scale(1.15); }
}

/* Icon container for consistent alignment */
.icon-container {
  position: absolute;
  width: 5rem;
  height: 5rem;
  display: flex;
  align-items: center;
  justify-content: center;
}

#heartIcon {
  position: absolute;
  left: calc(50% - 12.5rem);
  top: 50%;
  width: 5rem;
  height: 5rem;
  object-fit: contain;
  filter: brightness(0) saturate(100%) invert(27%) sepia(100%) saturate(10000%) hue-rotate(0deg);
  transform: translate(-50%, -50%);
  animation: heartPulse 1s ease-in-out infinite;
  transform-origin: center center;
}

#activityIcon {
  position: absolute;
  left: calc(50% + 12.5rem);
  top: 50%;
  width: 5rem;
  height: 5rem;
  max-width: 5rem;
  max-height: 5rem;
  object-fit: contain;
  object-position: center;
  filter: brightness(0) invert(1);
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

#hrTarget {
  position: absolute;
  left: calc(50% - 12.5rem);
  top: calc(50% + 3.125rem);
  transform: translateX(-50%);
  text-align: center;
}

#hrNow {
  position: absolute;
  left: calc(50% - 12.5rem);
  top: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  color: white !important;
  font-weight: 600;
  font-size: 1.2rem;
  pointer-events: none;
  z-index: 10;
}

/* Mobile view - optimize for tall screens like Pixel 8 (1080x2400) */
@media (max-width: 768px) and (orientation: portrait) {
  /* Increase container padding and spacing */
  .container { 
    padding: 24px 20px 40px 20px; 
    max-width: 100%;
  }
  
  /* Increase section spacing */
  .section { 
    padding: 24px 24px 32px 24px; 
    border-radius: 16px; 
    margin-bottom: 28px; 
    min-height: auto;
  }
  
  /* Increase text sizes for better readability */
  .label { font-size: 1rem; }
  .input { 
    padding: 14px; 
    font-size: 1.1rem; 
    margin-top: 10px; 
  }
  .button { 
    padding: 16px; 
    font-size: 1.1rem; 
    margin-top: 18px; 
    border-radius: 14px;
  }
  
  /* Increase metric and phase box sizes */
  .metric { 
    font-size: 1.2rem; 
    margin-top: 10px; 
    margin-bottom: 16px;
  }
  .phase-box { 
    font-size: 1.8rem; 
    padding: 20px; 
    border-radius: 14px; 
    margin-top: 28px; 
    margin-bottom: 8px;
  }
  .work-blocks { 
    font-size: 0.7rem; 
    margin-top: 12px; 
  }
  
  /* Increase spacing for start button */
  #startButton {
    margin-top: 20px;
    margin-bottom: 8px;
  }
  
  /* Make ring larger and add more spacing */
  .ring-container { 
    width: 16rem; 
    height: 16rem; 
    margin: 2.5rem auto 2rem; 
  }
  .ring-bg { stroke-width: 10; }
  .ring-progress { stroke-width: 10; }
  .ring-center { font-size: 1.4rem; }
  
  /* Add extra bottom padding to workout section for icon spacing */
  .workout-main-section {
    padding-bottom: 6rem !important;
  }
  
  .ring-wrapper {
    min-height: 20rem;
    padding-bottom: 4rem;
  }
  
  /* Reposition heart icon to bottom left of section - aligned baseline */
  #heartIcon {
    position: absolute !important;
    left: 1.5rem !important;
    bottom: 1.5rem !important;
    top: auto !important;
    width: 4rem !important;
    height: 4rem !important;
    max-width: 4rem !important;
    max-height: 4rem !important;
    transform: translateY(50%) !important;
    transform-origin: center bottom !important;
    object-fit: contain !important;
    object-position: center bottom !important;
    animation: heartPulseMobile 1s ease-in-out infinite !important;
  }
  
  /* Reposition activity icon to bottom right of section - aligned baseline */
  #activityIcon {
    position: absolute !important;
    right: 1.5rem !important;
    bottom: 1.5rem !important;
    left: auto !important;
    top: auto !important;
    width: 4rem !important;
    height: 4rem !important;
    max-width: 4rem !important;
    max-height: 4rem !important;
    transform: translateY(50%) !important;
    transform-origin: center bottom !important;
    object-fit: contain !important;
    object-position: center bottom !important;
  }
  
  /* Reposition HR target below heart icon - larger text */
  #hrTarget {
    position: absolute !important;
    left: 1.5rem !important;
    bottom: -0.5rem !important;
    top: auto !important;
    transform: none !important;
    font-size: 0.75rem !important;
    text-align: left !important;
  }
  
  /* HR Now display - larger and better positioned */
  #hrNow {
    position: absolute !important;
    left: 3.5rem !important;
    bottom: calc(1.5rem + 2rem + 0.5rem) !important;
    top: auto !important;
    transform: translateX(-50%) !important;
    font-size: 1.2rem !important;
    text-align: center !important;
    color: white !important;
    font-weight: 600 !important;
    pointer-events: none !important;
    z-index: 10 !important;
  }
  
  /* Increase HRV section spacing */
  #hrvSection {
    margin-bottom: 24px;
  }
  
  /* Optimize modals for mobile */
  .modal {
    width: 95%;
    max-width: 95%;
    padding: 20px;
    max-height: 90vh;
    overflow-y: auto;
  }
  
  .modal-title {
    font-size: 1.3rem;
    margin-bottom: 18px;
  }
  
  .tab-button {
    padding: 14px;
    font-size: 1rem;
  }
  
  /* Heart pulse animation for mobile - maintains bottom alignment */
  @keyframes heartPulseMobile {
    0%, 100% { transform: translateY(50%) scale(1); }
    50% { transform: translateY(50%) scale(1.15); }
  }
}

/* Landscape view - increase everything by 20% */
@media (orientation: landscape) {
  body { font-size: 1.2rem; }
  .container { padding: 24px; max-width: 600px; }
  h1 { font-size: 2.16rem; margin: 19.2px 0 21.6px; }
  
  .section { padding: 19.2px; border-radius: 16.8px; margin-bottom: 19.2px; }
  .label { font-size: 1.08rem; }
  .input { padding: 14.4px; border-radius: 12px; margin-top: 9.6px; font-size: 1.2rem; }
  .button { padding: 16.8px; border-radius: 14.4px; margin-top: 16.8px; font-size: 1.2rem; }
  
  .metric { font-size: 1.2rem; margin-top: 7.2px; }
  .phase-box { font-size: 1.8rem; padding: 16.8px; border-radius: 14.4px; margin-top: 21.6px; }
  .time-left { font-size: 1.32rem; margin-top: 12px; }
  .work-blocks { font-size: 1.14rem; margin-top: 12px; }
  .hr-target { font-size: 1.08rem; margin-top: 9.6px; }
  .calories { font-size: 1.08rem; margin-top: 7.2px; }
  
  .hamburger { top: 12px; right: 14.4px; font-size: 33.6px; padding: 7.2px 12px; }
  .modal { padding: 28.8px; border-radius: 16.8px; max-width: 480px; }
  .modal-title { font-size: 1.68rem; margin-bottom: 24px; }
  .close-btn { font-size: 26.4px; margin-top: -7.2px; }
  .modal-actions { gap: 12px; margin-top: 21.6px; }
  .modal-field { margin-bottom: 16.8px; gap: 14.4px; }
  .modal-label { font-size: 1.08rem; min-width: 96px; }
  .modal-input { padding: 12px 14.4px; border-radius: 12px; font-size: 1.2rem; }
  .modal-section { margin-bottom: 19.2px; }
  .modal-section-title { font-size: 1.02rem; margin-bottom: 12px; }
  
  .ring-container { width: 12.75rem; height: 12.75rem; margin: 1.35rem auto 0.45rem; }
  .ring-bg { stroke-width: 9.6; }
  .ring-progress { stroke-width: 9.6; }
  .ring-center { font-size: 1.32rem; }
  #heartIcon { 
    left: calc(50% - 15rem) !important;
    width: 6rem !important;
    height: 6rem !important;
  }
  #activityIcon { 
    left: calc(50% + 15rem) !important;
    width: 6rem !important;
    height: 6rem !important;
    max-width: 6rem !important;
    max-height: 6rem !important;
    object-fit: contain !important;
    object-position: center !important;
    transform: translate(-50%, -50%) !important;
    transform-origin: center center !important;
  }
  #hrTarget {
    left: calc(50% - 15rem) !important;
    top: calc(50% + 3.75rem) !important;
  }
  #hrNow {
    left: calc(50% - 15rem) !important;
    font-size: 1.44rem !important;
  }
}

