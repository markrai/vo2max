body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; margin: 0; background: #0c0c0c; color: #fff; }
.container { padding: 20px; max-width: 500px; margin: auto; }
h1 { font-size: 1.8rem; text-align: center; margin: 16px 0 18px; }

.section { background: #1a1a1a; padding: 16px; border-radius: 14px; margin-bottom: 16px; position: relative; }
.label { font-size: 0.9rem; opacity: .7; }
.input { width: 100%; padding: 12px; border-radius: 10px; border: none; margin-top: 8px; font-size: 1rem; box-sizing: border-box; }
.button { width: 100%; padding: 14px; background: #3d7cff; color: #fff; border: none; border-radius: 12px; margin-top: 14px; font-size: 1rem; font-weight: 600; }

.metric { font-size: 1rem; margin-top: 6px; text-align: center; }
#nextDayBtn { position: absolute; right: 0; top: 50%; transform: translateY(-50%); background: none; border: none; color: #fff; font-size: 1.2rem; cursor: pointer; padding: 4px 8px; opacity: 0.7; transition: opacity 0.2s; }
#nextDayBtn:hover { opacity: 1; }
#nextDayBtn:active { transform: translateY(-50%) scale(0.95); }
.phase-box { display: flex; justify-content: space-between; align-items: center; font-size: 1.5rem; padding: 14px; background: #232323; border-radius: 12px; margin-top: 18px; }
.phase-box .phase-name { flex: 1; text-align: left; }
.phase-box .phase-time { flex: 0 0 auto; text-align: right; font-weight: 600; }
.time-left { text-align: center; font-size: 1.1rem; margin-top: 10px; opacity: .9; }
.work-blocks { text-align: center; margin-top: 8px; font-size: 0.55rem; opacity: .8; }
.hr-target { text-align: center; font-size: 0.7rem; opacity: .9; }
.hr-now { text-align: center; font-size: 0.7rem; opacity: .9; }
.calories { text-align: center; margin-top: 6px; font-size: 0.9rem; opacity: .9; }

.hamburger { position: fixed; top: 10px; right: 12px; font-size: 28px; cursor: pointer; padding: 6px 10px; z-index: 20; }
.modal-bg { position: fixed; inset: 0; background: rgba(0,0,0,0.7); display: none; align-items: center; justify-content: center; z-index: 15; }
.modal { background: #1a1a1a; padding: 24px; border-radius: 14px; width: 90%; max-width: 400px; }
.modal-title { font-size: 1.4rem; margin-bottom: 20px; text-align: center; font-weight: 600; }
.close-btn { float: right; cursor: pointer; font-size: 22px; margin-top: -6px; opacity: 0.7; }
.close-btn:hover { opacity: 1; }
.modal-actions { display: flex; gap: 10px; margin-top: 18px; }
.modal-actions .button { flex: 1; width: auto; }
.modal-actions .button.secondary { background: #444; }
.modal-actions .button.secondary:hover { background: #555; }
.modal-field { margin-bottom: 14px; display: flex; align-items: center; gap: 12px; }
.modal-label { font-size: 0.9rem; opacity: 0.85; font-weight: 500; min-width: 80px; flex-shrink: 0; }
.modal-input { flex: 1; padding: 10px 12px; border-radius: 10px; border: 1px solid #333; background: #232323; color: #fff; font-size: 1rem; box-sizing: border-box; }
.modal-input:focus { outline: none; border-color: #3d7cff; }
.modal-input::placeholder { opacity: 0.5; }
.modal-section { margin-bottom: 16px; }
.modal-section-title { font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.5px; opacity: 0.6; margin-bottom: 10px; font-weight: 600; }

.ring-container { position: relative; width: 170px; height: 170px; margin: 18px auto 6px; }
.ring { width: 100%; height: 100%; transform: rotate(-90deg); }
.ring-bg { fill: none; stroke: #333; stroke-width: 8; }
.ring-progress { fill: none; stroke: #3d7cff; stroke-width: 8; stroke-linecap: round; stroke-dasharray: 339.292; stroke-dashoffset: 339.292; transition: stroke-dashoffset 0.25s linear; }
.ring-center { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 1.1rem; text-align: center; }

/* Heart pulsation animation */
@keyframes heartPulse {
  0%, 100% { transform: translate(-50%, -50%) scale(1); }
  50% { transform: translate(-50%, -50%) scale(1.15); }
}

#heartIcon {
  transform: translate(-50%, -50%);
  animation: heartPulse 1s ease-in-out infinite;
  transform-origin: center center;
}

/* Mobile view - reposition icons to bottom of section */
@media (max-width: 768px) and (orientation: portrait) {
  /* Reposition heart icon to bottom left of section */
  #heartIcon {
    position: absolute !important;
    left: 16px !important;
    bottom: 16px !important;
    top: auto !important;
    width: 50px !important;
    height: 50px !important;
    transform-origin: center center !important;
    /* Don't set transform here - let animation handle it */
  }
  
  /* Reposition activity icon to bottom right of section */
  #activityIcon {
    position: absolute !important;
    right: 16px !important;
    bottom: 16px !important;
    left: auto !important;
    top: auto !important;
    width: 50px !important;
    height: 50px !important;
    transform: translate(0, 0) !important;
  }
  
  /* Reposition HR target below heart icon */
  #hrTarget {
    position: absolute !important;
    left: 16px !important;
    bottom: -5px !important;
    top: auto !important;
    transform: none !important;
    font-size: 0.6rem !important;
    text-align: left !important;
  }
  
  #hrNow {
    position: absolute !important;
    right: 16px !important;
    bottom: -5px !important;
    top: auto !important;
    transform: none !important;
    font-size: 0.6rem !important;
    text-align: right !important;
  }
  
  /* Heart pulse animation for mobile */
  @keyframes heartPulseMobile {
    0%, 100% { transform: translate(0, 0) scale(1); }
    50% { transform: translate(0, 0) scale(1.15); }
  }
}

/* Landscape view - increase everything by 20% */
@media (orientation: landscape) {
  body { font-size: 1.2rem; }
  .container { padding: 24px; max-width: 600px; }
  h1 { font-size: 2.16rem; margin: 19.2px 0 21.6px; }
  
  .section { padding: 19.2px; border-radius: 16.8px; margin-bottom: 19.2px; }
  .label { font-size: 1.08rem; }
  .input { padding: 14.4px; border-radius: 12px; margin-top: 9.6px; font-size: 1.2rem; }
  .button { padding: 16.8px; border-radius: 14.4px; margin-top: 16.8px; font-size: 1.2rem; }
  
  .metric { font-size: 1.2rem; margin-top: 7.2px; }
  .phase-box { font-size: 1.8rem; padding: 16.8px; border-radius: 14.4px; margin-top: 21.6px; }
  .time-left { font-size: 1.32rem; margin-top: 12px; }
  .work-blocks { font-size: 1.14rem; margin-top: 12px; }
  .hr-target { font-size: 1.08rem; margin-top: 9.6px; }
  .calories { font-size: 1.08rem; margin-top: 7.2px; }
  
  .hamburger { top: 12px; right: 14.4px; font-size: 33.6px; padding: 7.2px 12px; }
  .modal { padding: 28.8px; border-radius: 16.8px; max-width: 480px; }
  .modal-title { font-size: 1.68rem; margin-bottom: 24px; }
  .close-btn { font-size: 26.4px; margin-top: -7.2px; }
  .modal-actions { gap: 12px; margin-top: 21.6px; }
  .modal-field { margin-bottom: 16.8px; gap: 14.4px; }
  .modal-label { font-size: 1.08rem; min-width: 96px; }
  .modal-input { padding: 12px 14.4px; border-radius: 12px; font-size: 1.2rem; }
  .modal-section { margin-bottom: 19.2px; }
  .modal-section-title { font-size: 1.02rem; margin-bottom: 12px; }
  
  .ring-container { width: 204px; height: 204px; margin: 21.6px auto 7.2px; }
  .ring-bg { stroke-width: 9.6; }
  .ring-progress { stroke-width: 9.6; }
  .ring-center { font-size: 1.32rem; }
  #activityIcon { width: 96px; height: 96px; }
}

